version: '3'
services:
  web:
    # container_name: web_counter #compose can't scale service with contianer_name
    build: .
    image: sorididim11/web:${APP_VERSION} # from .env file
    ports:
     - "5000:5000"
    environment:
      - DEBUG=1
    volumes:
     - .:/code
    networks:
      - frontend
      - internal
  redis:
    image: "redis:alpine"
    networks:
      - backend
      - internal
networks:
  frontend:
    driver: bridge
  backend:
    driver: bridge
  internal:
    driver: bridge
